//?Method foo is undefined for subtypes C of A
model M driver EMF {nsuri='sa'};

for (a in A.all) {
    var v1:A = a.foo();	
}

operation B foo() : B {return self;}